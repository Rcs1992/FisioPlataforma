<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes" />
  <title>Ãndice de Barthel - Profissional</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      background: #f0f4f8;
      color: #1a2b3c;
      padding: 12px;
      min-height: 100vh;
      line-height: 1.5;
    }

    .container {
      max-width: 600px;
      margin: 0 auto;
    }

    h1 {
      font-size: 1.8rem;
      text-align: center;
      color: #0a4b78;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      font-weight: 600;
    }

    .card {
      background: white;
      border-radius: 20px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: 0 4px 12px rgba(0, 30, 60, 0.08);
      border: 1px solid rgba(10, 75, 120, 0.1);
      transition: all 0.2s;
    }

    .item-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      flex-wrap: wrap;
      gap: 8px;
    }

    .item-titulo {
      font-weight: 600;
      color: #0a4b78;
      font-size: 1.1rem;
    }

    .item-pontos {
      background: #e6f0fa;
      padding: 4px 10px;
      border-radius: 30px;
      font-size: 0.9rem;
      color: #0a4b78;
      font-weight: 500;
    }

    select {
      width: 100%;
      padding: 14px 16px;
      border-radius: 16px;
      border: 1.5px solid #d0ddee;
      background: white;
      font-size: 1rem;
      color: #1a2b3c;
      appearance: none;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="%230a4b78" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>');
      background-repeat: no-repeat;
      background-position: right 16px center;
      background-size: 18px;
      font-weight: 500;
    }

    select:focus {
      outline: none;
      border-color: #0a4b78;
      box-shadow: 0 0 0 3px rgba(10, 75, 120, 0.15);
    }

    .dica {
      background: #f8fcff;
      padding: 10px 14px;
      border-radius: 16px;
      margin-top: 8px;
      font-size: 0.9rem;
      color: #2c3e50;
      border-left: 4px solid #0a4b78;
      line-height: 1.4;
    }

    .dica strong {
      color: #0a4b78;
    }

    .botao-calcular {
      background: #0a4b78;
      color: white;
      border: none;
      padding: 18px;
      font-size: 1.2rem;
      font-weight: 600;
      border-radius: 30px;
      width: 100%;
      cursor: pointer;
      margin: 16px 0;
      transition: background 0.2s, transform 0.1s;
      box-shadow: 0 8px 16px rgba(10, 75, 120, 0.2);
    }

    .botao-calcular:hover {
      background: #063a5e;
    }

    .botao-calcular:active {
      transform: scale(0.98);
    }

    .resultado-card {
      background: white;
      border-radius: 24px;
      padding: 20px;
      margin: 16px 0;
      border-left: 6px solid #0a4b78;
      box-shadow: 0 8px 20px rgba(0, 40, 80, 0.1);
    }

    .pontuacao-total {
      font-size: 2.5rem;
      font-weight: 700;
      color: #0a4b78;
      line-height: 1;
      margin-bottom: 4px;
    }

    .classificacao {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .progresso-container {
      background: #eef2f6;
      height: 20px;
      border-radius: 30px;
      margin: 16px 0;
      overflow: hidden;
    }

    .progresso-barra {
      height: 100%;
      background: linear-gradient(90deg, #0a4b78, #2a7faa);
      width: 0%;
      transition: width 0.3s;
      border-radius: 30px;
    }

    .intervencoes {
      background: #f0f7fc;
      padding: 18px;
      border-radius: 20px;
      margin-top: 16px;
    }

    .intervencoes h3 {
      color: #0a4b78;
      margin-bottom: 12px;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .intervencoes ul {
      list-style: none;
      padding-left: 0;
    }

    .intervencoes li {
      margin-bottom: 10px;
      padding-left: 24px;
      position: relative;
    }

    .intervencoes li::before {
      content: "â€¢";
      color: #0a4b78;
      font-weight: bold;
      font-size: 1.4rem;
      position: absolute;
      left: 4px;
      top: -4px;
    }

    .referencia {
      font-size: 0.8rem;
      color: #4a627a;
      margin-top: 12px;
      padding-top: 8px;
      border-top: 1px dashed #cbd6e6;
    }

    .reset-btn {
      background: none;
      border: none;
      color: #0a4b78;
      font-weight: 500;
      text-decoration: underline;
      padding: 8px;
      margin-top: 8px;
      cursor: pointer;
      width: 100%;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ§© Ãndice de Barthel</h1>
    <p style="text-align:center; margin-bottom:16px; color:#2c3e50;">AvaliaÃ§Ã£o de independÃªncia funcional</p>

    <form id="formBarthel">
      <!-- AlimentaÃ§Ã£o -->
      <div class="card">
        <div class="item-header">
          <span class="item-titulo">ğŸ½ï¸ AlimentaÃ§Ã£o</span>
          <span class="item-pontos" id="pontos-alimentacao">10 pts</span>
        </div>
        <select id="alimentacao" onchange="atualizarPontosItem('alimentacao', this)">
          <option value="10">Independente (10 pts)</option>
          <option value="5">Necessita ajuda leve (5 pts)</option>
          <option value="0">Dependente (0 pts)</option>
        </select>
        <div class="dica"><strong>ğŸ“Œ CritÃ©rio:</strong> Independente = alimenta-se sozinho em tempo razoÃ¡vel. Ajuda leve = necessÃ¡rio auxÃ­lio para cortar, passar manteiga etc.</div>
      </div>

      <!-- Banho -->
      <div class="card">
        <div class="item-header">
          <span class="item-titulo">ğŸ› Banho</span>
          <span class="item-pontos" id="pontos-banho">5 pts</span>
        </div>
        <select id="banho" onchange="atualizarPontosItem('banho', this)">
          <option value="5">Independente (5 pts)</option>
          <option value="0">Dependente (0 pts)</option>
        </select>
        <div class="dica"><strong>ğŸ“Œ CritÃ©rio:</strong> Independente = entra e sai do chuveiro/banheira sem ajuda, ou lava-se sozinho.</div>
      </div>

      <!-- Higiene pessoal -->
      <div class="card">
        <div class="item-header">
          <span class="item-titulo">ğŸ§¼ Higiene pessoal</span>
          <span class="item-pontos" id="pontos-higiene">5 pts</span>
        </div>
        <select id="higiene" onchange="atualizarPontosItem('higiene', this)">
          <option value="5">Independente (5 pts)</option>
          <option value="0">Dependente (0 pts)</option>
        </select>
        <div class="dica"><strong>ğŸ“Œ CritÃ©rio:</strong> Lavar rosto, pentear cabelo, escovar dentes, barbear-se sem ajuda.</div>
      </div>

      <!-- Vestir-se -->
      <div class="card">
        <div class="item-header">
          <span class="item-titulo">ğŸ‘• Vestir-se</span>
          <span class="item-pontos" id="pontos-vestir">10 pts</span>
        </div>
        <select id="vestir" onchange="atualizarPontosItem('vestir', this)">
          <option value="10">Independente (10 pts)</option>
          <option value="5">Necessita ajuda (5 pts)</option>
          <option value="0">Dependente (0 pts)</option>
        </select>
        <div class="dica"><strong>ğŸ“Œ CritÃ©rio:</strong> Independente = veste-se sem ajuda, inclusive botÃµes, zÃ­per, cadarÃ§os.</div>
      </div>

      <!-- Intestino -->
      <div class="card">
        <div class="item-header">
          <span class="item-titulo">ğŸ’© Controle intestino</span>
          <span class="item-pontos" id="pontos-intestino">10 pts</span>
        </div>
        <select id="intestino" onchange="atualizarPontosItem('intestino', this)">
          <option value="10">ContinÃªncia total (10 pts)</option>
          <option value="5">Ocasional (5 pts)</option>
          <option value="0">Incontinente (0 pts)</option>
        </select>
        <div class="dica"><strong>ğŸ“Œ CritÃ©rio:</strong> Ocasional = menos de 1x/semana. Pode usar supositÃ³rio/ajuda para enema.</div>
      </div>

      <!-- Bexiga -->
      <div class="card">
        <div class="item-header">
          <span class="item-titulo">ğŸ’§ Controle bexiga</span>
          <span class="item-pontos" id="pontos-bexiga">10 pts</span>
        </div>
        <select id="bexiga" onchange="atualizarPontosItem('bexiga', this)">
          <option value="10">ContinÃªncia total (10 pts)</option>
          <option value="5">Ocasional (5 pts)</option>
          <option value="0">Incontinente (0 pts)</option>
        </select>
        <div class="dica"><strong>ğŸ“Œ CritÃ©rio:</strong> Ocasional = menos de 1x/dia. Sonda vesical = 5 pts se autocuidado.</div>
      </div>

      <!-- Vaso sanitÃ¡rio -->
      <div class="card">
        <div class="item-header">
          <span class="item-titulo">ğŸš½ Uso do vaso</span>
          <span class="item-pontos" id="pontos-sanitario">10 pts</span>
        </div>
        <select id="sanitario" onchange="atualizarPontosItem('sanitario', this)">
          <option value="10">Independente (10 pts)</option>
          <option value="5">Necessita ajuda (5 pts)</option>
          <option value="0">Dependente (0 pts)</option>
        </select>
        <div class="dica"><strong>ğŸ“Œ CritÃ©rio:</strong> Ir ao banheiro, limpar-se, vestir-se. Ajuda pode ser para equilÃ­brio.</div>
      </div>

      <!-- TransferÃªncia -->
      <div class="card">
        <div class="item-header">
          <span class="item-titulo">ğŸ›ï¸ TransferÃªncia</span>
          <span class="item-pontos" id="pontos-transferencia">15 pts</span>
        </div>
        <select id="transferencia" onchange="atualizarPontosItem('transferencia', this)">
          <option value="15">Independente (15 pts)</option>
          <option value="10">Ajuda leve (10 pts)</option>
          <option value="5">Grande ajuda (5 pts)</option>
          <option value="0">Dependente (0 pts)</option>
        </select>
        <div class="dica"><strong>ğŸ“Œ CritÃ©rio:</strong> Leito/cadeira. Ajuda leve = supervisÃ£o ou pequena assistÃªncia.</div>
      </div>

      <!-- DeambulaÃ§Ã£o -->
      <div class="card">
        <div class="item-header">
          <span class="item-titulo">ğŸš¶ DeambulaÃ§Ã£o</span>
          <span class="item-pontos" id="pontos-deambulacao">15 pts</span>
        </div>
        <select id="deambulacao" onchange="atualizarPontosItem('deambulacao', this)">
          <option value="15">Independente (15 pts)</option>
          <option value="10">Com auxÃ­lio (10 pts)</option>
          <option value="5">Cadeira de rodas (5 pts)</option>
          <option value="0">ImpossÃ­vel (0 pts)</option>
        </select>
        <div class="dica"><strong>ğŸ“Œ CritÃ©rio:</strong> 50m sem ajuda. AuxÃ­lio = muleta, bengala, andador ou supervisÃ£o.</div>
      </div>

      <!-- Escadas -->
      <div class="card">
        <div class="item-header">
          <span class="item-titulo">ğŸªœ Subir escadas</span>
          <span class="item-pontos" id="pontos-escadas">10 pts</span>
        </div>
        <select id="escadas" onchange="atualizarPontosItem('escadas', this)">
          <option value="10">Independente (10 pts)</option>
          <option value="5">Com ajuda (5 pts)</option>
          <option value="0">Incapaz (0 pts)</option>
        </select>
        <div class="dica"><strong>ğŸ“Œ CritÃ©rio:</strong> Subir um lance sem ajuda. Ajuda = supervisÃ£o ou auxÃ­lio fÃ­sico/corrimÃ£o.</div>
      </div>

      <button type="button" class="botao-calcular" onclick="calcularBarthel()">ğŸ“Š Calcular PontuaÃ§Ã£o</button>
    </form>

    <div id="resultado" class="resultado-card" style="display:none;"></div>

    <button class="reset-btn" onclick="resetarFormulario()">â†» Iniciar nova avaliaÃ§Ã£o</button>
  </div>

  <script>
    function atualizarPontosItem(id, select) {
      const valor = select.value;
      const pontosSpan = document.getElementById(`pontos-${id}`);
      if (pontosSpan) {
        pontosSpan.innerText = valor + ' pts';
      }
    }

    function resetarFormulario() {
      document.getElementById('formBarthel').reset();
      // Resetar todos os pontos exibidos para o valor padrÃ£o
      document.querySelectorAll('select').forEach(select => {
        const id = select.id;
        const valor = select.value;
        const pontosSpan = document.getElementById(`pontos-${id}`);
        if (pontosSpan) pontosSpan.innerText = valor + ' pts';
      });
      document.getElementById('resultado').style.display = 'none';
    }

    function calcularBarthel() {
      const campos = [
        "alimentacao", "banho", "higiene", "vestir", "intestino",
        "bexiga", "sanitario", "transferencia", "deambulacao", "escadas"
      ];
      let total = 0;

      campos.forEach(id => {
        total += parseInt(document.getElementById(id).value || 0);
      });

      let grau = "";
      let cor = "";
      let icone = "";
      let intervencoes = "";

      if (total === 100) {
        grau = "IndependÃªncia Total";
        cor = "#0a4b78";
        icone = "ğŸ”µ";
        intervencoes = "âœ… <strong>ManutenÃ§Ã£o da funcionalidade:</strong> incentivo a atividades comunitÃ¡rias e prevenÃ§Ã£o de quedas. Acompanhamento periÃ³dico.";
      } else if (total >= 91) {
        grau = "IndependÃªncia Leve";
        cor = "#2a7faa";
        icone = "ğŸŸ¢";
        intervencoes = "ğŸ  <strong>Orientar:</strong> identificar atividades que exigem mais tempo. Considerar terapia ocupacional para otimizaÃ§Ã£o de desempenho.";
      } else if (total >= 61) {
        grau = "DependÃªncia Moderada";
        cor = "#f4b942";
        icone = "ğŸŸ¡";
        intervencoes = "ğŸ©º <strong>IntervenÃ§Ã£o:</strong> avaliar necessidade de cuidador, adaptaÃ§Ãµes ambientais (barras de apoio, remoÃ§Ã£o de tapetes), fisioterapia para ganho de forÃ§a, treino de AVDs.";
      } else if (total >= 21) {
        grau = "DependÃªncia Grave";
        cor = "#d96c4e";
        icone = "ğŸŸ ";
        intervencoes = "ğŸ¥ <strong>Cuidados intensivos:</strong> suporte para AVDs, prevenÃ§Ã£o de Ãºlceras por pressÃ£o (mudanÃ§a de decÃºbito), nutriÃ§Ã£o assistida, esvaziamento intestinal programado, fisioterapia motora passiva/ativa, considerar home care.";
      } else {
        grau = "DependÃªncia Total";
        cor = "#b23b3b";
        icone = "ğŸ”´";
        intervencoes = "ğŸ†˜ <strong>Cuidados paliativos/Integrais:</strong> manejo de incontinÃªncia, posicionamento no leito, prevenÃ§Ã£o de contraturas, cuidados com a pele, suporte familiar, avaliaÃ§Ã£o de via alternativa de alimentaÃ§Ã£o se necessÃ¡rio, abordagem multidisciplinar.";
      }

      const resultadoDiv = document.getElementById("resultado");
      resultadoDiv.style.display = "block";
      
      // Barra de progresso
      const percent = total;
      
      resultadoDiv.innerHTML = `
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;">
          <span class="pontuacao-total">${total}</span>
          <span style="background:${cor}20; color:${cor}; padding:8px 16px; border-radius:30px; font-weight:600;">${icone} ${grau}</span>
        </div>
        
        <div class="progresso-container">
          <div class="progresso-barra" style="width:${total}%; background:${cor};"></div>
        </div>
        
        <div style="display:flex; justify-content:space-between; margin:12px 0; font-size:0.9rem;">
          <span>â¬‡ï¸ 0 (dependente)</span>
          <span>100 (independente)</span>
        </div>

        <div class="intervencoes">
          <h3>ğŸ’¡ IntervenÃ§Ãµes baseadas em evidÃªncias</h3>
          <ul>
            <li>${intervencoes}</li>
            <li><strong>Pontos de corte:</strong> 0-20: dependÃªncia total | 21-60: grave | 61-90: moderada | 91-99: leve | 100: total</li>
          </ul>
        </div>

        <div class="referencia">
          <strong>ğŸ“š ReferÃªncia:</strong> Adaptado de MAHONEY, F.I.; BARTHEL, D.W. (1965). Amplamente utilizado em geriatria, reabilitaÃ§Ã£o e cuidados paliativos. ValidaÃ§Ã£o brasileira: Minosso et al. (2010).
        </div>
      `;
    }

    // Inicializar todos os pontos na carga
    window.onload = function() {
      document.querySelectorAll('select').forEach(select => {
        const id = select.id;
        const valor = select.value;
        const pontosSpan = document.getElementById(`pontos-${id}`);
        if (pontosSpan) pontosSpan.innerText = valor + ' pts';
      });
    };
  </script>
</body>
</html>
