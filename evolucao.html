<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Avalia√ß√£o Fisioterap√™utica</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 8px;
      font-size: 14px;
      background: #f9f9f9;
    }

    label {
      display: block;
      margin-bottom: 4px;
      font-weight: bold;
    }

    select, input[type="text"], input[type="number"], textarea {
      width: 100%;
      padding: 4px;
      margin-bottom: 8px;
      font-size: 14px;
    }

    textarea {
      height: 100px;
    }

    .row {
      display: flex;
      gap: 6px;
    }

    .row > * {
      flex: 1;
    }

    .hidden {
      display: none;
    }

    .checkbox-group label {
      font-weight: normal;
      margin-right: 8px;
    }

    button {
      width: 100%;
      padding: 10px;
      font-size: 14px;
      background: #0066cc;
      color: white;
      border: none;
      border-radius: 4px;
      margin-top: 10px;
    }

    .output {
      white-space: pre-wrap;
      background: #fff;
      border: 1px solid #ccc;
      padding: 10px;
      margin-top: 12px;
      border-radius: 5px;
    }

    .section {
      margin-bottom: 10px;
    }

    .small-title {
      margin: 6px 0 2px;
      font-weight: bold;
      font-size: 13px;
    }
  </style>
</head>
<body>
  <label for="leito">Leito:</label>
<input type="text" id="leito" name="leito" placeholder="Ex: 12" />
<br>
  
  <div class="section">
    <label for="estadoGeral">Estado Geral</label>
    <select id="estadoGeral">
      <option value="acordado(a) e responsivo(a)">Acordado(a) e responsivo(a)</option>
      <option value="sonolento(a), mas responsivo(a) ao chamado">Sonolento(a), mas responsivo(a)</option>
      <option value="rebaixado(a), mas responde √† dor">Rebaixado(a), mas responde √† dor</option>
      <option value="n√£o responsivo(a) a nenhum est√≠mulo">Sem resposta a est√≠mulos</option>
    </select>
  </div>

  <div class="section">
    <label for="nivelConsciencia">N√≠vel de Consci√™ncia</label>
    <select id="nivelConsciencia">
      <option value="consciente e orientado(a)">Consciente e orientado(a)</option>
      <option value="confuso(a)">Confuso(a)</option>
      <option value="agitado(a)">Agitado(a)</option>
      <option value="rebaixado(a)">Rebaixado(a)</option>
      <option value="comatoso(a)">Comatoso(a)</option>
    </select>

    <label><input type="checkbox" id="sedado" /> Paciente sedado</label>
    <div id="sedacaoDetalhes" class="hidden">
      <label for="rass">RASS</label>
      <select id="rass">
        <option value="-5">-5: N√£o desperta</option>
        <option value="-4">-4: Movimenta-se a est√≠mulo</option>
        <option value="-3">-3: Movimento ocular a est√≠mulo</option>
        <option value="-2">-2: Leve seda√ß√£o</option>
        <option value="-1">-1: Sonolento</option>
        <option value="0">0: Alerta e calmo</option>
        <option value="+1">+1: Inquieto</option>
        <option value="+2">+2: Agitado</option>
        <option value="+3">+3: Muito agitado</option>
        <option value="+4">+4: Combativo</option>
      </select>
    </div>
  </div>

  <!-- Estado Geral (em menu suspenso) -->
<label for="estadoGeralSelect">Avali√ß√£o F√≠sica:</label>
<select id="estadoGeralSelect" multiple>
  <option value="afebril">Afebril</option>
  <option value="febril">Febril</option>
  <option value="normocorado(a)">Normocorado(a)</option>
  <option value="hipocorado(a)">Hipocorado(a)</option>
  <option value="acian√≥tico(a)">Acian√≥tico(a)</option>
  <option value="cian√≥tico(a)">Cian√≥tico(a)</option>
  <option value="hidratado(a)">Hidratado(a)</option>
  <option value="desidratado(a)">Desidratado(a)</option>
  <option value="anict√©rico(a)">Anict√©rico(a)</option>
  <option value="ict√©rico(a)">Ict√©rico(a)</option>
  <option value="extremidades quentes e perfundidas">Extremidades quentes e perfundidas</option>
  <option value="extremidades frias e hipoperfundidas">Extremidades frias e hipoperfundidas</option>
</select>

<!-- Detalhes de Seda√ß√£o (em menu suspenso com campo de dose abaixo) -->
<label for="sedacaoSelect">Medica√ß√µes sedativas utilizadas:</label>
<select id="sedacaoSelect" multiple>
  <option value="Fentanil">Fentanil</option>
  <option value="Midazolam">Midazolam</option>
  <option value="Ketamina">Ketamina</option>
  <option value="Propofol">Propofol</option>
  <option value="Precedex">Precedex</option>
  <option value="Morfina">Morfina</option>
</select>
<label for="doseSedativos">Doses ou observa√ß√µes:</label>
<input type="text" id="doseSedativos" placeholder="Ex: Fentanil 100mcg/h, Propofol 20ml/h">

<label><input type="checkbox" id="usaDVA"> Uso de drogas</label>
<div id="dvaGrupo" style="display: none; margin-top: 10px;">

  <label for="drogaVasoativa">Drogas (selecione todas que estiver usando):</label>
  <select id="drogaVasoativa" multiple size="5">
    <option value="Noradrenalina">Noradrenalina</option>
    <option value="Vasopressina">Vasopressina</option>
    <option value="Dobutamina">Dobutamina</option>
    <option value="Adrenalina">Adrenalina</option>
    <option value="Nipride">Nipride</option>
    <option value="Tridil">Tridil</option>
  </select>

  <label for="doseDVA">Dose e observa√ß√µes (ex: Noradrenalina 0,1 mcg/kg/min; Vasopressina 0,04 UI/min):</label>
  <textarea id="doseDVA" rows="3" placeholder="Descreva as doses e observa√ß√µes aqui..."></textarea>
</div>


  <div class="section">
    <label for="ventilacao">Ventila√ß√£o</label>
    <select id="ventilacao">
      <option value="em ar ambiente">Ar ambiente</option>
      <option value="em O2 suplementar">O2 suplementar</option>
      <option value="em ventila√ß√£o mec√¢nica">Ventila√ß√£o mec√¢nica</option>
    </select>

    <input type="text" id="oxigenioDetalhe" placeholder="Detalhe: cateter, m√°scara, VM..." />
  </div>
  <div id="vmDetalhes" class="row hidden" style="margin-top: 6px;">
  <select id="modoVM">
    <option value="">Modo</option>
    <option value="PCV">PCV</option>
    <option value="PRVC">PRVC</option>
    <option value="VCV">VCV</option>
    <option value="PSV">PSV</option>
    <option value="PAV">PAV</option>
    <option value="APRV">APRV</option>
    <option value="SIMV">SIMV</option>
  </select>
  <input type="text" id="pinsp" placeholder="Pinsp/PS" />
  <input type="text" id="peep" placeholder="PEEP" />
  <input type="text" id="fio2" placeholder="FiO‚ÇÇ %" />
  <input type="text" id="vc" placeholder="VC" />
  <input type="text" id="frVM" placeholder="FR VM" />
</div>

  <div class="section">
    <div class="row">
      <input type="number" id="fc" placeholder="FC bpm" />
      <input type="text" id="pa" placeholder="PA mmHg" />
      <input type="number" id="fr" placeholder="FR irpm" />
      <input type="number" id="spo2" placeholder="SpO‚ÇÇ %" />
      <input type="number" id="temp" placeholder="Temp ¬∞C" />
    </div>
  </div>

<div class="section">
  <label for="exameRespiratorio">Exame Respirat√≥rio</label>
  <select id="exameRespiratorio" multiple>
    <option value="MV preservado sem ru√≠dos advent√≠cios">MV preservado sem ru√≠dos advent√≠cios</option>
    <option value="MV com presen√ßa de">MV com presen√ßa de</option>
    <option value="MV reduzido">MV reduzido</option>
    <option value="roncos">roncos</option>
    <option value="sibilos">sibilos</option>
    <option value="estertores crepitantes">estertores crepitantes</option>
    <option value="MV abolido">MV abolido</option>
    <option value="globalmente">globalmente</option>
    <option value="em base direita">em base direita</option>
    <option value="em base esquerda">em base esquerda</option>
    <option value="em √°pice direito">em √°pice direito</option>
    <option value="em √°pice esquerdo">em √°pice esquerdo</option>
    <option value="√† Direita">em HTX D</option>
    <option value="√† esquerda">em HTX E</option>
    
  </select>

  <label for="exameAbdominal">Exame Abdominal</label>
  <select id="exameAbdominal" multiple>
    <option value="Plano">Plano</option>
    <option value="Distendido">Distendido</option>
    <option value="Fl√°cido">Fl√°cido</option>
    <option value="Tenso">Tenso</option>
    <option value="Doloroso √† palpa√ß√£o">Doloroso √† palpa√ß√£o</option>
    <option value="Sem dor √† palpa√ß√£o">Sem presen√ßa de dor</option>
  </select>
</div>


  <div class="section">
    <div class="small-title">Mobilidade / Escalas</div>
    <input type="text" id="ims" placeholder="IMS (ex: 0 a 10)" />
    <input type="text" id="mrc" placeholder="MRC (ex: 0 a 60)" />
  </div>

  <div class="section">
    <label for="condutas">Condutas fisioterap√™uticas</label>
    <select id="condutas" multiple size="6">
      <option>Desobstru√ß√£o br√¥nquica</option>
      <option>Reexpans√£o pulmonar</option>
      <option>Treino muscular respirat√≥rio</option>
      <option>Ventila√ß√£o n√£o invasiva</option>
      <option>Protocolo de desmame</option>
      <option>Mobiliza√ß√£o precoce</option>
      <option>Cinesioterapia motora</option>
      <option>Avalia√ß√£o para decanula√ß√£o</option>
      <option>Troca de interface</option>
      <option>Avalia√ß√£o da mec√¢nica ventilat√≥ria</option>
    </select>
  </div>
  
<label for="obsFinais">Observa√ß√µes Finais:</label>
<textarea id="obsFinais" rows="3" placeholder="Digite aqui..."></textarea>

  <button onclick="gerarEvolucao()">Gerar Evolu√ß√£o</button>

  <div id="output" class="output"></div>

  <button onclick="copiarEvolucao()" style="margin-top: 10px;">üìã Copiar Evolu√ß√£o</button>

  <script>
    document.getElementById("sedado").addEventListener("change", function () {
      document.getElementById("sedacaoDetalhes").classList.toggle("hidden", !this.checked);
    });
    document.getElementById("ventilacao").addEventListener("change", function () {
  const vmDetalhes = document.getElementById("vmDetalhes");
  vmDetalhes.classList.toggle("hidden", this.value !== "em ventila√ß√£o mec√¢nica");
});

document.getElementById("usaDVA").addEventListener("change", function () {
  document.getElementById("dvaGrupo").style.display = this.checked ? "block" : "none";
});

    function copiarEvolucao() {
  const output = document.getElementById("output");
  const texto = output.innerText || output.textContent;

  if (texto.trim() === "") {
    alert("Nada para copiar.");
    return;
  }

  // Cria um elemento tempor√°rio
  const temp = document.createElement("textarea");
  temp.value = texto;
  document.body.appendChild(temp);
  temp.select();
  document.execCommand("copy");
  document.body.removeChild(temp);

  alert("Evolu√ß√£o copiada para a √°rea de transfer√™ncia!");
}

    function gerarCondutasTexto() {
      const select = document.getElementById("condutas");
      const condutas = Array.from(select.selectedOptions).map(opt => opt.value);
      return condutas.length ? `Condutas realizadas: ${condutas.join(", ")}.` : "";
    }

function gerarEvolucao() {
  const estadoGeral = document.getElementById("estadoGeral").value;
  const consciencia = document.getElementById("nivelConsciencia").value;
  const sedado = document.getElementById("sedado").checked;
  const rass = document.getElementById("rass").value;
  const sedacaoTexto = sedado ? ` Paciente sedado, RASS: ${rass}.` : "";

  const estadoGeralnovo = Array.from(document.getElementById("estadoGeralSelect").selectedOptions).map(option => option.value);
  const sedativos = Array.from(document.getElementById("sedacaoSelect").selectedOptions).map(option => option.value);
  const doseSedativos = document.getElementById("doseSedativos").value;

  const ventilacao = document.getElementById("ventilacao").value;
  const oxigenioDetalhe = document.getElementById("oxigenioDetalhe").value;

  // Par√¢metros de ventila√ß√£o mec√¢nica
  const modoVM = document.getElementById("modoVM").value;
  const pinsp = document.getElementById("pinsp").value;
  const peep = document.getElementById("peep").value;
  const fio2 = document.getElementById("fio2").value;
  const vc = document.getElementById("vc").value;
  const frVM = document.getElementById("frVM").value;

  let parametrosVM = "";
  if (ventilacao === "em ventila√ß√£o mec√¢nica") {
    parametrosVM = " Par√¢metros ventilat√≥rios:";
    if (modoVM) parametrosVM += ` modo ${modoVM},`;
    if (pinsp) parametrosVM += ` Pinsp/PS ${pinsp},`;
    if (peep) parametrosVM += ` PEEP ${peep},`;
    if (fio2) parametrosVM += ` FiO‚ÇÇ ${fio2}%,`;
    if (vc) parametrosVM += ` VC ${vc},`;
    if (frVM) parametrosVM += ` FR ${frVM} irpm,`;
    parametrosVM = parametrosVM.replace(/,+$/, "."); // remove v√≠rgula final e adiciona ponto
  }

  const fc = document.getElementById("fc").value;
  const pa = document.getElementById("pa").value;
  const fr = document.getElementById("fr").value;
  const spo2 = document.getElementById("spo2").value;
  const temp = document.getElementById("temp").value;

  const exameRespiratorio = Array.from(document.getElementById("exameRespiratorio").selectedOptions).map(opt => opt.value).join(" ");
  const exameAbdominal = Array.from(document.getElementById("exameAbdominal").selectedOptions).map(opt => opt.value).join(" ");

  const ims = document.getElementById("ims").value;
  const mrc = document.getElementById("mrc").value;

  const mobilidadeTexto = (ims || mrc) 
    ? `Mobilidade: IMS ${ims || "-"}, MRC ${mrc || "-"}.` 
    : "";

  const condutaTexto = gerarCondutasTexto();
  
  const leito = document.getElementById("leito").value || "n√£o informado";


  // ‚úÖ Come√ßa a montar o texto
  let texto = `Paciente internado na UTI, leito ${leito}, ${estadoGeral}. Apresenta-se ${consciencia}.${sedacaoTexto}\n`;

  if (estadoGeralnovo.length > 0) {
    texto += `Avalia√ß√£o f√≠sica: ${estadoGeralnovo.join(', ')}.\n`;
  }

  if (sedativos.length > 0 || doseSedativos) {
    texto += `Seda√ß√£o: ${sedativos.join(', ')}.`;
    if (doseSedativos) texto += ` Observa√ß√µes: ${doseSedativos}.`;
    texto += `\n`;
  }
  
  if (document.getElementById("usaDVA").checked) {
  const drogas = Array.from(document.getElementById("drogaVasoativa").selectedOptions).map(opt => opt.value);
  const doseObs = document.getElementById("doseDVA").value.trim();

  if (drogas.length > 0) {
    texto += `Com necessidade de: ${drogas.join(", ")}.`;
    if (doseObs) texto += ` Doses/observa√ß√µes: ${doseObs}.`;
    texto += `\n`;
  } else {
    texto += `Uso de drogas vasoativas informado, por√©m nenhuma droga selecionada.\n`;
  }
}

  texto += `Encontra-se ${ventilacao}${oxigenioDetalhe ? ", utilizando: " + oxigenioDetalhe : ""}.\n`;
  if (parametrosVM) texto += parametrosVM + "\n";

  texto += `Sinais vitais: FC ${fc} bpm, PA ${pa}, FR ${fr} irpm, SpO‚ÇÇ ${spo2}%, T¬∫ ${temp}¬∞C.\n`;
  texto += `Exame respirat√≥rio: ${exameRespiratorio || "sem altera√ß√µes relevantes"}.\n`;
  texto += `Exame abdominal: ${exameAbdominal || "sem altera√ß√µes relevantes"}.\n`;

  if (mobilidadeTexto) texto += mobilidadeTexto + '\n';
  if (condutaTexto) texto += condutaTexto + '\n';

  // ‚úÖ Observa√ß√µes finais (agora no lugar certo)
  const obsFinais = document.getElementById("obsFinais").value;
  if (obsFinais.trim() !== "") {
    texto += `Obs.: ${obsFinais}\n`;
  }

  // ‚úÖ Exibe na tela
  document.getElementById("output").innerText = texto;
}

  </script>
</body>
</html>
