<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meus 5 Momentos para Higiene das Mãos - Fisioterapia CER Leblon</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Press Start 2P', cursive;
            background-color: #1a1a1a;
            color: #f2f2f2;
            text-align: center;
            padding: 20px;
        }

        h1 {
            color: #00ff99;
            font-size: 36px;
            text-shadow: 2px 2px #000;
            margin-bottom: 40px;
        }

        p {
            font-size: 18px;
            color: #ffdd59;
            margin-bottom: 40px;
        }

        button {
            background-color: #f39c12;
            color: white;
            padding: 15px 30px;
            border: none;
            cursor: pointer;
            font-size: 18px;
            border-radius: 10px;
            transition: all 0.3s ease;
            box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.3);
            font-family: 'Press Start 2P', cursive;
        }

        button:hover {
            background-color: #00ff99;
            transform: translateY(-3px);
        }

        @keyframes bgAnimation {
            0% { background-position: 0 0; }
            100% { background-position: 100% 100%; }
        }

        body {
            background: radial-gradient(circle, #1a1a1a, #000) repeat;
            animation: bgAnimation 20s linear infinite;
        }

        #gameContent {
            display: none;
            /* Estilos específicos para a área do jogo */
        }
    </style>
</head>
<body>

    <!-- Página inicial -->
    <div id="intro">
        <h1>Meus 5 Momentos para Higiene das Mãos</h1>
        <p>Embarque em uma Missão para Salvar Vidas e Prevenir Infecções!</p>
        <button onclick="startGame()">Pronto para salvar vidas</button>
    </div>

    <!-- Conteúdo do jogo -->
    <div id="gameContent">
        <h2>O jogo começa aqui!</h2>
        <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5 Momentos da Lavagem das Mãos - Serviço de Fisioterapia</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Press Start 2P', cursive;
            background-color: #1a1a1a;
            color: #f2f2f2;
            text-align: center;
            padding: 20px;
            margin: 1;
        }

        h1 {
            color: #00ff99;
            font-size: 28px;
            text-shadow: 2px 2px #000;
            margin-bottom: 40px;
        }

        #message, #result, #explanation, #lives, #score {
            margin: 20px 0;
            font-size: 18px;
        }

        #result {
            font-size: 24px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .show {
            opacity: 1;
            transform: scale(1.1);
        }
button {
    background-color: #f39c12;
    padding: 15px;
    font-size: 18px;
    border: 2px solid #f39c12;
    border-radius: 0;
    box-shadow: 4px 4px 0px #000;
    text-transform: uppercase;
}

button:hover {
    box-shadow: 6px 6px 0px #000;
    transform: translate(-2px, -2px);
    background-color: #ffcb6b;
}
h1 {
    font-size: 36px;
    color: #00ff99;
    text-shadow: 0 0 5px #00ff99, 0 0 10px #00ff99, 0 0 20px #00ff99;
}
body {
    background: radial-gradient(circle, #1a1a1a, #000) repeat;
    animation: bgAnimation 20s linear infinite;
}

@keyframes bgAnimation {
    0% { background-position: 0 0; }
    100% { background-position: 100% 100%; }
}
#gameOver {
    font-size: 48px;
    color: #ff4d4d;
    text-shadow: 0 0 10px #ff4d4d;
}

#congrats {
    font-size: 48px;
    color: #00ff99;
    text-shadow: 0 0 10px #00ff99;
}



        button {
            background-color: #0fbcf9;
            color: white;
            padding: 15px 30px;
            margin: 10px;
            border: none;
            cursor: pointer;
            font-size: 18px;
            border-radius: 10px;
            transition: all 0.3s ease;
            box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.3);
            font-family: 'Press Start 2P', cursive;
        }
#gameOver {
    font-size: 48px;
    color: #ff4d4d;
    text-shadow: 0 0 10px #ff4d4d;
}

#congrats {
    font-size: 48px;
    color: #00ff99;
    text-shadow: 0 0 10px #00ff99;
}

        button:hover {
            background-color: #00ff99;
            transform: translateY(-3px);
        }

        .next-button, .restart-button {
            margin-top: 20px;
            background-color: #ffdd59;
            color: #333;
        }

        .wrong-button {
            background-color: #ff4d4d;
        }

        .wrong-button:hover {
            background-color: #ff6b6b;
        }

        #lives {
            font-size: 20px;
            color: #ffdd59;
        }

        #score {
            font-size: 20px;
            color: #00ff99;
        }

        @media (max-width: 600px) {
            button {
                width: 100%;
                margin: 5px 0;
            }

            h1 {
                font-size: 20px;
            }
	    
            #score, #lives {
    transition: transform 0.3s ease, color 0.3s ease;
}

#score.gain {
    transform: scale(1.2);
    color: #00ff99;
}

#score.loss {
    transform: scale(1.2);
    color: #ff4d4d;
}


            #message, #result, #explanation, #lives, #score {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <h1>5 Momentos da Lavagem das Mãos - Jogo</h1>
    <div id="message"></div>
    <div id="result"></div>
    <div id="explanation"></div>
    <div id="lives"></div>
    <div id="score">Pontuação: 0</div>
    <script>
        const moments = [
            {
                question: "1. Quando você deve higienizar as mãos pela primeira vez?",
                options: [
                    "Após realizar um procedimento",
                    "Após tocar superfícies próximas",
                    "Antes de tocar o paciente",
                    "Depois de retirar as luvas",
                    "Antes de realizar assepsia"
                ],
                correctAnswer: 2,
                explanation: "Antes de tocar o paciente, a higiene das mãos previne a transmissão de micro-organismos para o paciente."
            },
            {
                question: "2. Quando é o segundo momento da lavagem das mãos?",
                options: [
                    "Antes de tocar o paciente",
                    "Após tocar superfícies próximas",
                    "Antes de um procedimento limpo/asséptico",
                    "Depois de retirar as luvas",
                    "Após a realização de um procedimento"
                ],
                correctAnswer: 2,
                explanation: "Antes de um procedimento limpo/asséptico, a higiene das mãos evita a introdução de patógenos no corpo do paciente."
            },
            {
                question: "3. Qual é o terceiro momento da lavagem das mãos?",
                options: [
                    "Antes de tocar o paciente",
                    "Depois de contato com fluídos corporais",
                    "Antes de um procedimento asséptico",
                    "Depois de tocar superfícies próximas ao paciente",
                    "Após realizar um procedimento"
                ],
                correctAnswer: 1,
                explanation: "Após risco de exposição a fluídos corporais, a higiene das mãos protege você e o ambiente da contaminação."
            },
            {
                question: "4. Quando ocorre o quarto momento da lavagem das mãos?",
                options: [
                    "Depois de tocar o paciente",
                    "Antes de colocar as luvas",
                    "Antes de tocar o paciente",
                    "Antes de realizar assepsia",
                    "Após tocar os pertences do paciente"
                ],
                correctAnswer: 0,
                explanation: "Após tocar o paciente, a higiene das mãos previne a transmissão de micro-organismos para o ambiente e outros pacientes."
            },
            {
                question: "5. Qual é o quinto momento da lavagem das mãos?",
                options: [
                    "Antes de tocar o paciente",
                    "Antes de um procedimento asséptico",
                    "Após o contato com o ambiente próximo do paciente",
                    "Após o contato com fluídos corporais",
                    "Antes de tocar superfícies próximas ao paciente"
                ],
                correctAnswer: 2,
                explanation: "Após tocar o ambiente próximo ao paciente, a higiene das mãos previne a contaminação cruzada entre pacientes."
            }
        ];

        let currentPhase = localStorage.getItem('currentPhase') || 0;
        let lives = localStorage.getItem('lives') || 2;
        let score = localStorage.getItem('score') || 0;
        let hasErrored = false;  // Flag para verificar se o jogador errou a questão atual
        const messageDiv = document.getElementById('message');
        const resultDiv = document.getElementById('result');
        const explanationDiv = document.getElementById('explanation');
        const livesDiv = document.getElementById('lives');
        const scoreDiv = document.getElementById('score');

        function updateLives() {
            livesDiv.innerHTML = `Vidas restantes: ${lives}`;
        }

        function updateScore() {
            scoreDiv.innerHTML = `Pontuação: ${score}`;
        }

        function loadPhase() {
            if (lives <= 0) {
                messageDiv.innerHTML = "Você perdeu todas as vidas! O jogo irá reiniciar.";
                explanationDiv.innerHTML = "";
                resultDiv.innerHTML = "";
                addRestartButton();
                return;
            }

            if (currentPhase >= moments.length) {
                messageDiv.innerHTML = `Parabéns! Você completou todas as fases com ${score} pontos!`;
                explanationDiv.innerHTML = "";
                addRestartButton();
                addShareButton();
                localStorage.removeItem('currentPhase');
                localStorage.removeItem('lives');
                localStorage.removeItem('score');
                return;
            }

            const phase = moments[currentPhase];
            messageDiv.innerHTML = phase.question;
            explanationDiv.innerHTML = "";
            resultDiv.innerHTML = "";
            resultDiv.classList.remove('show');

            // Gerar botões com opções
            messageDiv.innerHTML += "<br>";
            hasErrored = false;  // Resetar flag de erro
            phase.options.forEach((option, index) => {
                const btn = document.createElement('button');
                btn.innerHTML = option;
                btn.onclick = () => checkAnswer(index, btn);
                messageDiv.appendChild(btn);
            });

            updateLives();
            updateScore();
        }

        function checkAnswer(answer, button) {
            const phase = moments[currentPhase];
            if (answer === phase.correctAnswer) {
                resultDiv.innerHTML = "Correto!";
                resultDiv.style.color = "green";
                resultDiv.classList.add('show');
                explanationDiv.innerHTML = phase.explanation;

                // Bloquear os botões após acertar
                const buttons = document.querySelectorAll('button');
                buttons.forEach(btn => btn.disabled = true);

                if (!hasErrored) {  // Só adicionar pontos se não houve erro antes
                    score = parseInt(score) + 10;
                    localStorage.setItem('score', score);
                }

                const nextButton = document.createElement('button');
                nextButton.innerHTML = "Próximo";
                nextButton.classList.add('next-button');
                nextButton.onclick = () => {
                    currentPhase++;
                    localStorage.setItem('currentPhase', currentPhase);
                    loadPhase();
                };
                explanationDiv.appendChild(nextButton);
            } else {
                resultDiv.innerHTML = "Errado!";
                resultDiv.style.color = "red";
                resultDiv.classList.add('show');
                explanationDiv.innerHTML = "Você perdeu uma vida.";
                lives--;
                localStorage.setItem('lives', lives);

                // Atualizar a flag de erro para que não adicione pontos na próxima vez
                hasErrored = true;
                score = parseInt(score) - 10;  // Perder 10 pontos ao errar
                localStorage.setItem('score', score);

                // Bloquear o botão de resposta errada
                button.classList.add('wrong-button');
                button.disabled = true;

                updateLives();
                updateScore();

                if (lives <= 0) {
                    loadPhase();
                }
            }
        }

        function addRestartButton() {
            const restartButton = document.createElement('button');
            restartButton.innerHTML = "Reiniciar Jogo";
            restartButton.classList.add('restart-button');
            restartButton.onclick = () => {
                currentPhase = 0;
                lives = 2;
                score = 0;
                localStorage.removeItem('currentPhase');
                localStorage.removeItem('lives');
                localStorage.removeItem('score');
                loadPhase();
            };
            explanationDiv.appendChild(restartButton);
        }

        function addShareButton() {
            const shareButton = document.createElement('button');
            shareButton.innerHTML = "Compartilhar no WhatsApp";
            shareButton.classList.add('next-button');
            shareButton.onclick = () => {
                const text = `Eu terminei o jogo dos 5 momentos de lavagem das mãos com uma pontuação de ${score} pontos!`;
                const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(text)}`;
                window.open(whatsappUrl, '_blank');
            };
            explanationDiv.appendChild(shareButton);
        }
function updateScore() {
    scoreDiv.innerHTML = `Pontuação: ${score}`;
    scoreDiv.classList.remove('gain', 'loss');
    void scoreDiv.offsetWidth;  // Resetar animação

    if (parseInt(score) > 0) {
        scoreDiv.classList.add('gain');
    } else {
        scoreDiv.classList.add('loss');
    }
}
        loadPhase();
    </script>
</body>
</html>

    </div>

    <script>
        function startGame() {
            // Esconde a introdução
            document.getElementById("intro").style.display = "none";
            
            // Exibe o conteúdo do jogo
            document.getElementById("gameContent").style.display = "block";
        }
    </script>

</body>
</html>
