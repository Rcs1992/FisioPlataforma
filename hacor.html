<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes" />
  <title>HACOR Score ¬∑ mobile</title>
  <style>
    /* Reset e tipografia fluida */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      background: #f4f7fc;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      padding: 16px 12px 32px;
      color: #1a2e44;
    }

    .container {
      max-width: 480px;
      width: 100%;
      margin: 0 auto;
      background: white;
      border-radius: 32px 32px 28px 28px;
      box-shadow: 0 10px 30px rgba(0, 20, 40, 0.08);
      overflow: hidden;
      padding: 24px 20px 28px;
      border: 1px solid rgba(42, 93, 143, 0.08);
    }

    h1 {
      font-size: 2rem;
      font-weight: 600;
      letter-spacing: -0.02em;
      background: linear-gradient(145deg, #1f4b77, #2a5d8f);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .sub {
      color: #4a627a;
      font-size: 0.9rem;
      border-bottom: 1.5px solid #e9eef3;
      padding-bottom: 16px;
      margin-bottom: 18px;
      display: flex;
      justify-content: space-between;
      align-items: baseline;
    }

    .campo {
      margin-bottom: 18px;
    }

    label {
      display: flex;
      align-items: center;
      font-size: 0.95rem;
      font-weight: 600;
      color: #1e3b5c;
      margin-bottom: 6px;
    }

    label span {
      margin-left: 6px;
      font-size: 0.8rem;
      font-weight: 400;
      color: #5e7a9c;
    }

    .input-wrapper {
      background: #f1f5f9;
      border-radius: 18px;
      padding: 2px 16px;
      border: 1.5px solid transparent;
      transition: border 0.15s, background 0.15s;
      display: flex;
      align-items: center;
    }

    .input-wrapper:focus-within {
      background: #ffffff;
      border-color: #2a5d8f;
      box-shadow: 0 0 0 3px rgba(42, 93, 143, 0.15);
    }

    .input-wrapper input {
      width: 100%;
      border: none;
      background: transparent;
      font-size: 1.1rem;
      padding: 14px 0;
      outline: none;
      color: #0d2740;
      font-weight: 500;
    }

    .input-wrapper input[type="number"] {
      -moz-appearance: textfield;
    }

    .input-wrapper input::-webkit-outer-spin-button,
    .input-wrapper input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    .unidade-simbolo {
      font-weight: 500;
      color: #4f739b;
      padding-left: 8px;
      font-size: 0.95rem;
    }

    button {
      background: #2a5d8f;
      color: white;
      border: none;
      padding: 18px 16px;
      font-size: 1.25rem;
      font-weight: 600;
      border-radius: 30px;
      margin-top: 24px;
      margin-bottom: 16px;
      width: 100%;
      cursor: pointer;
      transition: all 0.2s ease;
      box-shadow: 0 8px 20px rgba(42, 93, 143, 0.3);
      letter-spacing: 0.3px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
    }

    button:active {
      transform: scale(0.98);
      background: #1f4a73;
      box-shadow: 0 4px 12px rgba(42, 93, 143, 0.4);
    }

    .resultado {
      background: #e7f0fa;
      border-radius: 26px;
      padding: 20px 18px;
      margin-top: 8px;
      border: 1px solid rgba(42, 93, 143, 0.2);
      backdrop-filter: blur(2px);
      transition: 0.2s;
    }

    .score-valor {
      font-size: 2.6rem;
      font-weight: 700;
      line-height: 1.2;
      color: #1e3b5c;
      display: inline-block;
      margin-right: 10px;
    }

    .score-label {
      font-size: 1rem;
      font-weight: 500;
      color: #365f86;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .interpretacao {
      font-size: 1.3rem;
      font-weight: 600;
      margin-top: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .badge-risco {
      background: #ffffffaa;
      backdrop-filter: blur(4px);
      padding: 6px 16px;
      border-radius: 60px;
      font-size: 1.2rem;
      border: 1px solid white;
    }

    .footer-nota {
      margin-top: 16px;
      font-size: 0.8rem;
      color: #5f7d9e;
      text-align: center;
      border-top: 1px dashed #cbd6e4;
      padding-top: 16px;
    }

    .footer-nota strong {
      color: #1f4569;
    }

    /* placeholder styling */
    input::placeholder {
      color: #9fb3cc;
      opacity: 0.6;
      font-weight: 300;
      font-size: 0.95rem;
    }

    /* dica visual */
    .dica {
      background: #d4e3f5;
      border-radius: 16px;
      padding: 8px 16px;
      font-size: 0.85rem;
      color: #1a3b5c;
      margin: 8px 0 4px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
  </style>
  <!-- Fonte opcional, fallback seguro -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,400;14..32,500;14..32,600;14..32,700&display=swap" rel="stylesheet">
</head>
<body>
<div class="container">
  <h1>ü´Å HACOR</h1>
  <div class="sub">
    <span>Predictor de falha em VNI</span>
    <span style="font-size:0.8rem; background:#e1ecf9; padding:4px 10px; border-radius:40px;">escore ‚â• 5 = alto risco</span>
  </div>

  <!-- FC -->
  <div class="campo">
    <label>Frequ√™ncia Card√≠aca <span>(bpm)</span></label>
    <div class="input-wrapper">
      <input type="number" id="fc" placeholder="ex: 112" step="1" min="0" value="">
      <span class="unidade-simbolo">bpm</span>
    </div>
  </div>

  <!-- pH -->
  <div class="campo">
    <label>pH arterial <span>(ex: 7.32)</span></label>
    <div class="input-wrapper">
      <input type="number" id="ph" placeholder="7.20 ‚Äì 7.50" step="0.01" min="6.8" max="7.8" value="">
    </div>
  </div>

  <!-- Glasgow -->
  <div class="campo">
    <label>Escala de Coma de Glasgow <span>(3‚Äì15)</span></label>
    <div class="input-wrapper">
      <input type="number" id="gcs" placeholder="15" step="1" min="3" max="15" value="">
      <span class="unidade-simbolo">GCS</span>
    </div>
  </div>

  <!-- PaO‚ÇÇ/FiO‚ÇÇ -->
  <div class="campo">
    <label>PaO‚ÇÇ/FiO‚ÇÇ <span>(P/F)</span></label>
    <div class="input-wrapper">
      <input type="number" id="pafi" placeholder="ex: 240" step="1" min="0" value="">
      <span class="unidade-simbolo">mmHg</span>
    </div>
  </div>

  <!-- FR -->
  <div class="campo">
    <label>Frequ√™ncia Respirat√≥ria <span>(irpm)</span></label>
    <div class="input-wrapper">
      <input type="number" id="fr" placeholder="ex: 28" step="1" min="0" value="">
      <span class="unidade-simbolo">irpm</span>
    </div>
  </div>

  <div class="dica">
    ‚ö° Preencha todos os campos para calcular o escore.
  </div>

  <button onclick="calcularHACOR()">
    <span>Calcular HACOR</span> 
    <span style="font-size:1.4rem;">‚Üí</span>
  </button>

  <div id="resultado" class="resultado" style="display: none;"></div>

  <div class="footer-nota">
    <strong>HACOR</strong> ¬∑ Heart rate, Acidosis, Consciousness, Oxygenation, Respiratory rate
  </div>
</div>

<script>
  function calcularHACOR() {
    // obter valores e validar presen√ßa
    const fcInput = document.getElementById("fc");
    const phInput = document.getElementById("ph");
    const gcsInput = document.getElementById("gcs");
    const pafiInput = document.getElementById("pafi");
    const frInput = document.getElementById("fr");

    // campos obrigat√≥rios: se algum estiver vazio, exibe alerta amig√°vel
    if (fcInput.value === '' || phInput.value === '' || gcsInput.value === '' || pafiInput.value === '' || frInput.value === '') {
      alert('Preencha todos os campos para calcular o HACOR score.');
      return;
    }

    const fc = parseInt(fcInput.value, 10);
    const ph = parseFloat(phInput.value);
    const gcs = parseInt(gcsInput.value, 10);
    const pafi = parseInt(pafiInput.value, 10);
    const fr = parseInt(frInput.value, 10);

    // Valida√ß√µes b√°sicas de intervalo (sem travar, apenas aviso)
    if (fc < 20 || fc > 200) console.warn("FC fora do intervalo t√≠pico");
    if (ph < 6.9 || ph > 7.7) console.warn("pH fora do intervalo esperado");
    if (gcs < 3 || gcs > 15) alert('GCS deve estar entre 3 e 15.');
    if (pafi < 30 || pafi > 800) console.warn("Rela√ß√£o P/F incomum");
    if (fr < 4 || fr > 70) console.warn("FR extrema");

    let score = 0;

    // FC (bpm)
    if (fc >= 120) score += 4;
    else if (fc >= 100) score += 2;
    // else 0

    // pH arterial
    if (ph < 7.30) score += 4;
    else if (ph >= 7.30 && ph <= 7.34) score += 2;
    // else 0

    // GCS
    if (gcs <= 8) score += 11;
    else if (gcs <= 14) score += 5;
    // else 0

    // PaO‚ÇÇ/FiO‚ÇÇ
    if (pafi <= 100) score += 4;
    else if (pafi <= 200) score += 3;
    else if (pafi <= 300) score += 2;
    // else 0

    // FR (irpm)
    if (fr > 35) score += 2;
    else if (fr >= 31 && fr <= 35) score += 1;
    // else 0

    // Interpreta√ß√£o
    let interpretacao = "";
    let emoji = "";
    let corFundo = "#e7f0fa"; // padr√£o

    if (score >= 5) {
      interpretacao = "Alto risco de falha na VNI";
      emoji = "üî¥";
      corFundo = "#ffe6e6"; // suave vermelho
    } else {
      interpretacao = "Baixo risco de falha na VNI";
      emoji = "üü¢";
      corFundo = "#e0f0e8"; // suave verde
    }

    const resultadoDiv = document.getElementById("resultado");
    resultadoDiv.style.display = "block";
    resultadoDiv.style.background = corFundo;

    // Montar HTML com visual melhorado
    resultadoDiv.innerHTML = `
      <div style="display: flex; align-items: baseline; flex-wrap: wrap; justify-content: space-between;">
        <span class="score-valor">${score}</span>
        <span class="score-label">HACOR total</span>
      </div>
      <div class="interpretacao">
        <span style="font-size: 2rem; line-height: 1;">${emoji}</span>
        <span style="flex:1;">${interpretacao}</span>
      </div>
      <div style="margin-top: 14px; border-top: 2px dotted rgba(42,93,143,0.2); padding-top: 12px; font-size:0.9rem; display: flex; gap: 12px; flex-wrap: wrap;">
        <span>üíì FC ${fc} bpm</span>
        <span>üß™ pH ${ph}</span>
        <span>üß† GCS ${gcs}</span>
        <span>ü´Å P/F ${pafi}</span>
        <span>üå¨Ô∏è FR ${fr}</span>
      </div>
    `;
  }

  // permitir calcular com Enter (opcional, mas agrad√°vel)
  const inputs = document.querySelectorAll('input');
  inputs.forEach((input, index) => {
    input.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        e.preventDefault();
        // se for o √∫ltimo input, dispara c√°lculo; sen√£o foco no pr√≥ximo
        if (index === inputs.length - 1) {
          calcularHACOR();
        } else {
          inputs[index + 1].focus();
        }
      }
    });
  });
</script>
</body>
</html>
